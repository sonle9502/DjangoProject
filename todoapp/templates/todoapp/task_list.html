{% extends 'todoapp/base.html' %}
{% block title %}List Task!{% endblock %}

{% block content %}
<h2>Welcome to the Home Page!</h2>
<p>This is the content for the home page.</p>
<div class="TaskList-html">
    <div class="LoginAndLogout">
        {% if user.is_authenticated %}
        Welcome, {{ user.username }}!
        <p><a href="{% url 'logout' %}">Logout</a></p>
        {% else %}
        <p><a href="{% url 'login' %}">Login</a></p>
        {% endif %}
    </div>
    <table>
    
        <h1 style="color: black;">タスクリスト</h1>
        <h1><td><a href="{% url 'task_create' %}">タスク追加</a></td></h1>

        <form action="" method="get">
            {% csrf_token %}
            <input type="text" name="search" value="{{ search }}" >
            <input type="submit" name="" value="検索">
        </form>

        <!-- ポップアップメッセージ -->
        {% for task in TaskList %}
            <div class="table">
                <div class="row">
                    
                    
                    <!-- 初期のボタン -->
                    <div class="popup" id="popup_{{ task.id }}"  style="display: none;">{{ task.description }}</div>
                    
                   
                    <div class="cell">{{ task.title }}</div>
                    <div class="cell kakuninButton" data-task-id="{{ task.id }}">確認</div>
                    <div class="cell"><a href="{% url 'task_edit' task.id %}">編集</a></div>
                    <div class="cell"><a href="{% url 'task_delete' task.id %}">削除</a></div>
                </div>
            </div>
        {% endfor %}
    </table>
</div>

{% endblock %}